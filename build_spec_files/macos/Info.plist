<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleName</key>
    <string>EyeTracker</string>
    <key>CFBundleDisplayName</key>
    <string>EyeTracker</string>
    <key>CFBundleIdentifier</key>
    <string>com.eyetracker.app</string>
    <key>CFBundleVersion</key>
    <string>1.0.0</string>
    <key>CFBundleShortVersionString</key>
    <string>1.0.0</string>
    <key>CFBundleExecutable</key>
    <string>EyeTracker</string>
    <key>CFBundleIconFile</key>
    <string>icon-windowed.icns</string>
    <key>CFBundlePackageType</key>
    <string>APPL</string>
    <key>CFBundleSignature</key>
    <string>????</string>
    
    <!-- Camera Permission - Required for webcam access -->
    <key>NSCameraUsageDescription</key>
    <string>EyeTracker requires camera access to perform eye movement tracking and visual field testing procedures. Camera data is processed locally and not transmitted.</string>
    
    <!-- Microphone Permission - Sometimes required with camera frameworks -->
    <key>NSMicrophoneUsageDescription</key>
    <string>EyeTracker may need microphone access for complete media functionality during eye tracking sessions.</string>
    
    <!-- High Resolution Support -->
    <key>NSHighResolutionCapable</key>
    <true/>
    
    <!-- Minimum System Version -->
    <key>LSMinimumSystemVersion</key>
    <string>10.15</string>
    
    <!-- Application Category -->
    <key>LSApplicationCategoryType</key>
    <string>public.app-category.medical</string>
    
    <!-- Required for file access -->
    <key>com.apple.security.files.user-selected.read-write</key>
    <true/>
    
    <!-- Hardened Runtime Entitlements - Critical for preventing segfaults -->
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
    <key>com.apple.security.cs.allow-unsigned-executable-memory</key>
    <true/>
    <key>com.apple.security.cs.disable-library-validation</key>
    <true/>
    <key>com.apple.security.cs.allow-dyld-environment-variables</key>
    <true/>
    
    <!-- Network access for any update checks or data sync -->
    <key>com.apple.security.network.client</key>
    <true/>
    
    <!-- Device access for camera -->
    <key>com.apple.security.device.camera</key>
    <true/>
    
    <!-- Python/OpenCV specific requirements -->
    <key>com.apple.security.cs.disable-executable-page-protection</key>
    <true/>
    
    <!-- App Transport Security - Allow local connections -->
    <key>NSAppTransportSecurity</key>
    <dict>
        <key>NSAllowsArbitraryLoads</key>
        <true/>
        <key>NSAllowsLocalNetworking</key>
        <true/>
    </dict>
    
    <!-- Background Processing -->
    <key>LSBackgroundOnly</key>
    <false/>
    
    <!-- Prevent App Nap -->
    <key>NSAppSleepDisabled</key>
    <true/>
    
    <!-- Document Types -->
    <key>CFBundleDocumentTypes</key>
    <array>
        <dict>
            <key>CFBundleTypeExtensions</key>
            <array>
                <string>csv</string>
                <string>txt</string>
                <string>json</string>
            </array>
            <key>CFBundleTypeName</key>
            <string>Data Files</string>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
            <key>LSHandlerRank</key>
            <string>Owner</string>
        </dict>
    </array>
    
    <!-- URL Schemes if needed -->
    <key>CFBundleURLTypes</key>
    <array>
        <dict>
            <key>CFBundleURLName</key>
            <string>com.eyetracker.app</string>
            <key>CFBundleURLSchemes</key>
            <array>
                <string>eyetracker</string>
            </array>
        </dict>
    </array>
    
    <!-- Additional Info -->
    <key>NSHumanReadableCopyright</key>
    <string>Copyright Â© 2024 EyeTracker. All rights reserved.</string>
    
    <!-- Prevent automatic termination -->
    <key>NSSupportsAutomaticTermination</key>
    <false/>
    
    <!-- Prevent sudden termination -->
    <key>NSSupportsSuddenTermination</key>
    <false/>
</dict>
</plist>